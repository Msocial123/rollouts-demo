default:
  app:
    enabled: true
    enableAutoSync: true
    autoSyncPrune: false
    project: default
    destination:
      namespace: openshift-gitops
      server: https://kubernetes.default.svc
    source:
      repoURL: https://github.com/gnunn-gitops/rollouts-demo
      targetRevision: main

applications:

  rollouts-demo-gitops:
    destination:
      namespace: rollouts-demo-gitops
    source:
      path: environments/overlays/gitops
      extraSourceFields: |
        plugin:
          name: kustomize-envvar

  rollouts-demo-dev:
    labels:
      app.kubernetes.io/name: rollouts-demo
    destination:
      namespace: rollouts-demo-dev
    source:
      path: environments/overlays/dev
      extraSourceFields: |
        plugin:
          name: kustomize-envvar

  rollouts-demo-prod:
    labels:
      app.kubernetes.io/name: rollouts-demo
    destination:
      namespace: rollouts-demo-prod
    source:
      path: environments/overlays/prod
      extraSourceFields: |
        plugin:
          name: kustomize-envvar

  rollouts-demo-cicd:
    labels:
      app.kubernetes.io/name: rollouts-demo
    destination:
      namespace: rollouts-demo-cicd
    source:
      path: environments/overlays/cicd
      extraSourceFields: |
        plugin:
          name: kustomize-envvar